{"ts":1377725898942,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"class EcnsController < ApplicationController\n  # GET /ecns\n  # GET /ecns.json\n  def index\n    @ecns = Ecn.all\n\n    respond_to do |format|\n      format.html # index.html.erb\n      format.json { render json: @ecns }\n    end\n  end\n\n  # GET /ecns/1\n  # GET /ecns/1.json\n  def show\n    @ecn = Ecn.find(params[:id])\n\n    respond_to do |format|\n      format.html # show.html.erb\n      format.json { render json: @ecn }\n    end\n  end\n\n  # GET /ecns/new\n  # GET /ecns/new.json\n  def new\n    @ecn = Ecn.new\n\n    respond_to do |format|\n      format.html # new.html.erb\n      format.json { render json: @ecn }\n    end\n  end\n\n  # GET /ecns/1/edit\n  def edit\n    @ecn = Ecn.find(params[:id])\n  end\n\n  # POST /ecns\n  # POST /ecns.json\n  def create\n    @ecn = Ecn.new(params[:ecn])\n\n    respond_to do |format|\n      if @ecn.save\n        format.html { redirect_to @ecn, notice: 'Ecn was successfully created.' }\n        format.json { render json: @ecn, status: :created, location: @ecn }\n      else\n        format.html { render action: \"new\" }\n        format.json { render json: @ecn.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # PUT /ecns/1\n  # PUT /ecns/1.json\n  def update\n    @ecn = Ecn.find(params[:id])\n\n    respond_to do |format|\n      if @ecn.update_attributes(params[:ecn])\n        format.html { redirect_to @ecn, notice: 'Ecn was successfully updated.' }\n        format.json { head :no_content }\n      else\n        format.html { render action: \"edit\" }\n        format.json { render json: @ecn.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # DELETE /ecns/1\n  # DELETE /ecns/1.json\n  def destroy\n    @ecn = Ecn.find(params[:id])\n    @ecn.destroy\n\n    respond_to do |format|\n      format.html { redirect_to ecns_url }\n      format.json { head :no_content }\n    end\n  end\nend\n"]],"start1":0,"start2":0,"length1":0,"length2":1809}]],"length":1809}
{"contributors":[],"silentsave":false,"ts":1377829701750,"patch":[[{"diffs":[[0,"Ecn.new\n"],[1,"    3.times {@ecn.revisions.build}"],[0,"\n    res"]],"start1":489,"start2":489,"length1":16,"length2":50}]],"length":1843,"saved":false}
{"ts":1377829705851,"patch":[[{"diffs":[[0,".times {"],[1," "],[0,"@ecn.rev"]],"start1":502,"start2":502,"length1":16,"length2":17},{"diffs":[[0,"ns.build"],[1," "],[0,"}\n    re"]],"start1":523,"start2":523,"length1":16,"length2":17}]],"length":1845,"saved":false}
{"ts":1377830558905,"patch":[[{"diffs":[[0,"revision"],[-1,"s"],[0,".build }"]],"start1":516,"start2":516,"length1":17,"length2":16}]],"length":1844,"saved":false}
{"ts":1377830570267,"patch":[[{"diffs":[[0,"revision"],[1,"s"],[0,".build }"]],"start1":516,"start2":516,"length1":16,"length2":17}]],"length":1845,"saved":false}
{"contributors":[],"silentsave":false,"ts":1377980826164,"patch":[[{"diffs":[[0,"Ecn."],[1,"by_user_name(params[:ecns][:user_name]).by_drawing_number(params[:ecns][:drawing_number]).by_pump_model\\\n    (params[:ecns][:pump_model]).by_frame_size(params[:ecns][:frame_size]).by_part_type(params[:ecns][:part_type]).\\\n    by_created_before(params[:ecns][:created_on]).by_created_after(params[:ecns][:created_on])."],[0,"all\n"],[-1,""],[0,"\n   "]],"start1":102,"start2":102,"length1":12,"length2":329},{"diffs":[[0,"new\n"],[-1,"    3.times { @ecn.revisions.build }"],[0,"\n"],[1,""],[0,"    "]],"start1":810,"start2":810,"length1":45,"length2":9},{"diffs":[[0,"d\n  end\n"],[1,"  \n#  def submit\n#    @ecn = Ecn.find(params[:ecn])\n#\n#    respond_to do |format|\n#      if @ecn.save\n#        format.html { redirect_to @ecn, notice: 'Ecn has been submitted for approval.' }\n#        format.json { render json: @ecn, status: :created, location: @ecn }\n#      else\n#        format.html { render action: \"new\" }\n#        format.json { render json: @ecn.errors, status: :unprocessable_entity }\n#      end\n#    end\n#  end\n#  \n#  def close\n#    @ecn = Ecn.find(params[:ecn])\n#\n#    respond_to do |format|\n#      if @ecn.save\n#        format.html { redirect_to @ecn, notice: 'Ecn has been closed, all applicable departments have been notified.' }\n#        format.json { render json: @ecn, status: :created, location: @ecn }\n#      else\n#        format.html { render action: \"new\" }\n#        format.json { render json: @ecn.errors, status: :unprocessable_entity }\n#      end\n#    end\n#  end\n"],[0,"end\n"]],"start1":2114,"start2":2114,"length1":12,"length2":913}]],"length":3027,"saved":false}
{"ts":1377981217351,"patch":[[{"diffs":[[0,".by_"],[-1,"frame_size(params[:ecns][:frame_size]).by_"],[0,"part"]],"start1":243,"start2":243,"length1":50,"length2":8}]],"length":2985,"saved":false}
{"ts":1377981231693,"patch":[[{"diffs":[[0,"el]).by_"],[1,"frame_size(params[:ecns][:frame_size]).by_"],[0,"part_typ"]],"start1":239,"start2":239,"length1":16,"length2":58}]],"length":3027,"saved":false}
{"contributors":[],"silentsave":false,"ts":1378216192405,"patch":[[{"diffs":[[0,"f index\n"],[1,"    if params[:ecns].nil?\n       @ecns = Ecn.all\n    else\n  "],[0,"    @ecn"]],"start1":82,"start2":82,"length1":16,"length2":76},{"diffs":[[0," Ecn.by_"],[-1,"user_name"],[1,"ecn_number"],[0,"(params["]],"start1":161,"start2":161,"length1":25,"length2":26},{"diffs":[[0,"s][:"],[-1,"user_name])"],[1,"ecn_number])\\\n                 "],[0,".by_"]],"start1":191,"start2":191,"length1":19,"length2":39},{"diffs":[[0,"number])"],[1,"\n     #   "],[0,".by_pump"]],"start1":268,"start2":268,"length1":16,"length2":26},{"diffs":[[0,"mp_model"],[-1,"\\\n    "],[0,"(params["]],"start1":292,"start2":292,"length1":22,"length2":16},{"diffs":[[0,"_model])"],[1,"\\\n     #   "],[0,".by_fram"]],"start1":320,"start2":320,"length1":16,"length2":27},{"diffs":[[0,"by_frame"],[-1,"_size"],[0,"(params["]],"start1":340,"start2":340,"length1":21,"length2":16},{"diffs":[[0,"e_size])"],[1,"\\\n     #   "],[0,".by_part"]],"start1":368,"start2":368,"length1":16,"length2":27},{"diffs":[[0,"pe])"],[-1,"."],[0,"\\\n    "],[1," #   ."],[0,"by_c"]],"start1":423,"start2":423,"length1":15,"length2":20},{"diffs":[[0,"ns]["],[-1,":created_on]).by_created_after(params[:ecns][:created_on]).all\n"],[1,"'created_before(1i)'], params[:ecns]['created_before(2i)'], params[:ecns]['created_before(3i)'])\\\n     #   .by_created_after(params[:ecns]['created_after(1i)'], params[:ecns]['created_after(2i)'], params[:ecns]['created_after(3i)']).all  \n    end"],[0,"\n   "]],"start1":467,"start2":467,"length1":71,"length2":254}]],"length":3317,"saved":false}
{"ts":1378216208574,"patch":[[{"diffs":[[0,"number])"],[1,".all"],[0,"\\\n     "],[1,"#"],[0,"        "]],"start1":199,"start2":199,"length1":23,"length2":28}]],"length":3322,"saved":false}
{"ts":1378216268101,"patch":[[{"diffs":[[0,"l\\\n     "],[-1,"#"],[0,"        "]],"start1":210,"start2":210,"length1":17,"length2":16}]],"length":3321,"saved":false}
{"ts":1378216276810,"patch":[[{"diffs":[[0,"number])"],[-1,".all"],[0,"\\\n      "]],"start1":199,"start2":199,"length1":20,"length2":16},{"diffs":[[0,"number])"],[1,".all"],[0,"\n     # "]],"start1":268,"start2":268,"length1":16,"length2":20}]],"length":3321,"saved":false}
{"ts":1378216650317,"patch":[[{"diffs":[[0,"s = Ecn."],[1,"order(\"ecn_number DESC\")."],[0,"all\n    "]],"start1":127,"start2":127,"length1":16,"length2":41}]],"length":3346,"saved":false}
{"ts":1378216671714,"patch":[[{"diffs":[[0,"ber])\\\n     "],[1,"#"],[0,"            "]],"start1":227,"start2":227,"length1":24,"length2":25}]],"length":3347,"saved":false}
{"ts":1378216705452,"patch":[[{"diffs":[[0,")\\\n     "],[-1,"#"],[0,"        "]],"start1":231,"start2":231,"length1":17,"length2":16}]],"length":3346,"saved":false}
{"ts":1378216806398,"patch":[[{"diffs":[[0,"drawing_"],[-1,"number"],[1,"id"],[0,"]).all\n "]],"start1":285,"start2":285,"length1":22,"length2":18}]],"length":3342,"saved":false}
{"contributors":[],"silentsave":false,"ts":1378304181834,"patch":[[{"diffs":[[0," end\n  \n"],[-1,"#"],[0,"  def su"]],"start1":2432,"start2":2432,"length1":17,"length2":16},{"diffs":[[0,"mit\n"],[-1,"#"],[1,"      \n"],[0,"    @ecn"],[1,"s"],[0," = Ecn."],[-1,"find(params[:ecn])\n#\n#"],[1,"order(\"ecn_number DESC\").all\n    \n"],[0,"    "]],"start1":2449,"start2":2449,"length1":46,"length2":65},{"diffs":[[0,"format|\n"],[-1,"#      if @ecn.save\n#  "],[0,"      fo"]],"start1":2529,"start2":2529,"length1":39,"length2":16},{"diffs":[[0,"l { redirect_to "],[-1,"@"],[0,"ecn"],[1,"s_url"],[0,", notice: 'Ecn h"]],"start1":2553,"start2":2553,"length1":36,"length2":40},{"diffs":[[0,"pproval.' }\n"],[-1,"#"],[0,"      "],[-1,"  "],[0,"format.json "]],"start1":2616,"start2":2616,"length1":33,"length2":30},{"diffs":[[0,"@ecn"],[-1,", status: :created, location: @ecn"],[1,"s"],[0," }\n"],[-1,"#"],[0,"    "],[-1,"  else\n#        format.html { render action: \"new\" }\n#        format.json { render json: @ecn.errors, status: :unprocessable_entity }\n#      end\n#    end\n#  end\n#  \n#  def close\n#"],[1,"end\n  end\n  \n  def close\n      \n"],[0,"    @ecn"],[1,"s"],[0," = Ecn."],[-1,"find(params[:ecn])\n#\n#"],[1,"order(\"ecn_number DESC\").all\n    \n"],[0,"    "]],"start1":2661,"start2":2661,"length1":266,"length2":98},{"diffs":[[0,"at|\n"],[-1,"#      if @ecn.save\n#  "],[0,"    "]],"start1":2778,"start2":2778,"length1":31,"length2":8},{"diffs":[[0,"l { redirect_to "],[-1,"@"],[0,"ecn"],[1,"s_url"],[0,", notice: 'Ecn h"]],"start1":2798,"start2":2798,"length1":36,"length2":40},{"diffs":[[0,"osed"],[-1,", all applicable departments have been notified.' }\n#        format.json { render json: @ecn, status: :created, location: @ecn }\n#      else\n#        format.html { render action: \"new\" }\n#        format.json { render json: @ecn.errors, status: :unprocessable_entity"],[1,".  A confirmation email has been sent to the appropriate personnel.' }\n      format.json { render json: @ecns"],[0," }\n"],[-1,"#"],[0,"    "],[-1,"  "],[0,"end\n"],[-1,"#    end\n#"],[0,"  en"]],"start1":2848,"start2":2848,"length1":297,"length2":128}]],"length":2982,"saved":false}
{"ts":1378317738608,"patch":[[{"diffs":[[0,"_to do |format|\n"],[1,"      EcnNotifier.submitted(@ecn).deliver\n"],[0,"      format.htm"]],"start1":2521,"start2":2521,"length1":32,"length2":74}]],"length":3024,"saved":false}
{"ts":1378317760878,"patch":[[{"diffs":[[0,"_to do |format|\n"],[1,"      EcnNotifier.closed(@ecn).deliver\n"],[0,"      format.htm"]],"start1":2808,"start2":2808,"length1":32,"length2":71}]],"length":3063,"saved":false}
